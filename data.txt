<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AstroMaestro AI - Your Cosmic Guide</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <div class="container">
            <h1>AstroMaestro AI</h1>
            <p>Unveiling the Cosmos, Deciphering Your Destiny</p>
        </div>
    </header>

    <nav>
        <div class="container">
            <button onclick="showSection('astrology-section')">Astrology Report</button>
            <button onclick="showSection('numerology-section')">Numerology Report</button>
            <button onclick="showSection('chat-section')">AI Chat Assistant</button>
        </div>
    </nav>

    <main class="container">
        <section id="astrology-section" class="active">
            <h2>Your Astrological Blueprint</h2>
            <p>Discover the secrets of your birth chart and unlock insights into your personality, potential, and life path.</p>
            <form id="astrology-form">
                <label for="astro-name">Your Name:</label>
                <input type="text" id="astro-name" required>

                <label for="astro-dob">Date of Birth:</label>
                <input type="date" id="astro-dob" required>

                <label for="astro-tob">Time of Birth:</label>
                <input type="time" id="astro-tob" required>

                <label for="astro-place">Place of Birth (City, Country):</label>
                <input type="text" id="astro-place" placeholder="e.g., London, UK" required>

                <button type="submit">Generate Astrology Report</button>
            </form>
            <div id="astrology-report-output" class="report-output">
                <h3>Your Cosmic Revelation</h3>
                <div class="report-content"></div>
                <button class="download-pdf-btn hidden" onclick="downloadPdf('astrology')">Download as PDF</button>
            </div>
             <div id="astrology-pdf-template" class="pdf-template hidden">
                <div class="pdf-header">
                    <img src="https://i.imgur.com/K4z3o2q.png" alt="AstroMaestro AI Logo" class="pdf-logo">
                    <h2>AstroMaestro AI</h2>
                    <h3>Your Astrological Blueprint</h3>
                </div>
                <div class="pdf-content"></div>
                <div class="pdf-footer">
                    <p>Generated by AstroMaestro AI - Guiding Your Path</p>
                    <p>For educational and entertainment purposes only.</p>
                </div>
            </div>
        </section>

        <section id="numerology-section">
            <h2>Unveiling Your Numbers</h2>
            <p>Explore the vibrational energies of your name and birth date through Chaldean or Pythagorean numerology.</p>
            <form id="numerology-form">
                <label for="nume-name">Your Full Name (as on birth certificate):</label>
                <input type="text" id="nume-name" required>

                <label for="nume-dob">Date of Birth:</label>
                <input type="date" id="nume-dob" required>

                <label for="nume-type">Numerology System:</label>
                <select id="nume-type" required>
                    <option value="Pythagorean">Pythagorean</option>
                    <option value="Chaldean">Chaldean</option>
                </select>

                <button type="submit">Generate Numerology Report</button>
            </form>
            <div id="numerology-report-output" class="report-output">
                <h3>Your Numerical Insight</h3>
                <div class="report-content"></div>
                <button class="download-pdf-btn hidden" onclick="downloadPdf('numerology')">Download as PDF</button>
            </div>
            <div id="numerology-pdf-template" class="pdf-template hidden">
                 <div class="pdf-header">
                    <img src="https://i.imgur.com/K4z3o2q.png" alt="AstroMaestro AI Logo" class="pdf-logo">
                    <h2>AstroMaestro AI</h2>
                    <h3>Your Numerological Insight</h3>
                </div>
                <div class="pdf-content"></div>
                <div class="pdf-footer">
                    <p>Generated by AstroMaestro AI - Guiding Your Path</p>
                    <p>For educational and entertainment purposes only.</p>
                </div>
            </div>
        </section>

        <section id="chat-section">
            <h2>AstroMaestro AI Chat Assistant</h2>
            <p>Ask further questions about your reports, astrological concepts, or numerological interpretations.</p>
            <div class="chat-container">
                <div id="chat-messages" class="chat-messages">
                    <div class="message bot-message">Hello! I am AstroMaestro AI. How may I assist you today regarding your reports or mystical knowledge?</div>
                </div>
                <form id="chat-form">
                    <input type="text" id="chat-input" placeholder="Ask your question here..." required>
                    <button type="submit">Send</button>
                </form>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2024 AstroMaestro AI. All rights reserved.</p>
            <p>Embrace the ancient wisdom, guided by modern insight.</p>
        </div>
    </footer>

    <!-- Include Google's Generative AI JS SDK -->
    <script type="module">
        import { GoogleGenerativeAI } from "https://esm.run/@google/generative-ai";

        // IMPORTANT: In a real application, NEVER expose your API key like this.
        // Use a server-side proxy to keep your key secure.
        const API_KEY = "AIzaSyCzx6ReMk8ohPJcCjGwHHzu7SvFccJqAbA"; // Your provided Gemini API Key
        const MODEL_NAME = "gemini-2.5-flash-preview-05-20";

        const genAI = new GoogleGenerativeAI(API_KEY);
        const model = genAI.getGenerativeModel({ model: MODEL_NAME });

        window.model = model; // Make the model accessible globally for script.js
    </script>

    <!-- Include jsPDF and html2canvas for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <script src="script.js"></script>
</body>
</html>

-----------------------------------------------------------------------------------

document.addEventListener('DOMContentLoaded', () => {
    const astrologyForm = document.getElementById('astrology-form');
    const numerologyForm = document.getElementById('numerology-form');
    const chatForm = document.getElementById('chat-form');
    const astrologyReportOutput = document.getElementById('astrology-report-output');
    const numerologyReportOutput = document.getElementById('numerology-report-output');
    const chatMessages = document.getElementById('chat-messages');
    const chatInput = document.getElementById('chat-input');

    // Function to switch sections
    window.showSection = (sectionId) => {
        document.querySelectorAll('section').forEach(section => {
            section.classList.remove('active');
        });
        document.getElementById(sectionId).classList.add('active');
    };

    // Initialize the first section as active
    showSection('astrology-section');

    // --- Astrology Report Generation ---
    astrologyForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        const name = document.getElementById('astro-name').value;
        const dob = document.getElementById('astro-dob').value;
        const tob = document.getElementById('astro-tob').value;
        const place = document.getElementById('astro-place').value;

        const reportContentDiv = astrologyReportOutput.querySelector('.report-content');
        reportContentDiv.innerHTML = '<p>Generating your cosmic revelation... Please wait.</p>';
        astrologyReportOutput.classList.add('active');
        astrologyReportOutput.querySelector('.download-pdf-btn').classList.add('hidden'); // Hide download button during generation

        try {
            const prompt = `Generate a full astrological birth chart report for ${name}, born on ${dob} at ${tob} in ${place}. 
            Focus on key planetary placements (Sun, Moon, Ascendant, Mercury, Venus, Mars), their signs and house placements (e.g., "Sun in Aries in 10th House"). 
            Describe the general personality traits, strengths, challenges, and life path indicated by these placements. 
            Do not perform complex calculations or list specific degrees/aspects, but provide interpretations based on common astrological significations. 
            Maintain an inspiring, insightful, and slightly mystical tone. Format the output using **Markdown** with clear headings for each section (e.g., "## The Luminary Core: Sun & Moon", "## The Mind & Heart: Mercury & Venus", use bullet points for lists, and bold text for emphasis).`;
            // ^ IMPORTANT: I've updated the prompt to explicitly ask for Markdown.

            const result = await window.model.generateContent(prompt);
            const response = await result.response;
            const text = response.text();

            // Parse Markdown to HTML
            reportContentDiv.innerHTML = marked.parse(text);
            astrologyReportOutput.querySelector('.download-pdf-btn').classList.remove('hidden');

        } catch (error) {
            console.error('Error generating astrology report:', error);
            reportContentDiv.innerHTML = '<p class="error-message">Failed to generate report. Please try again. (Error: API communication issue)</p>';
            astrologyReportOutput.querySelector('.download-pdf-btn').classList.add('hidden');
        }
    });

    // --- Numerology Report Generation ---
    numerologyForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        const name = document.getElementById('nume-name').value;
        const dob = document.getElementById('nume-dob').value;
        const numeType = document.getElementById('nume-type').value;

        const reportContentDiv = numerologyReportOutput.querySelector('.report-content');
        reportContentDiv.innerHTML = '<p>Deciphering your numerical destiny... Please wait.</p>';
        numerologyReportOutput.classList.add('active');
        numerologyReportOutput.querySelector('.download-pdf-btn').classList.add('hidden'); // Hide download button during generation

        try {
            const prompt = `Generate a detailed ${numeType} numerology report for ${name}, born on ${dob}. 
            Calculate and interpret the Life Path Number, Destiny Number (Expression Number), and Soul Urge Number (Heart's Desire Number). 
            Explain what each number means for their personality, talents, challenges, and purpose in life. 
            Provide the calculation steps briefly for each number if possible, or just the resulting number and its interpretation. 
            Maintain an insightful and ancient tone, reflecting the wisdom of numbers. Format the output using **Markdown** with clear headings for each section (e.g., "## Life Path Number", "## Destiny Number", use bullet points for lists, and bold text for emphasis).`;
            // ^ IMPORTANT: I've updated the prompt to explicitly ask for Markdown.

            const result = await window.model.generateContent(prompt);
            const response = await result.response;
            const text = response.text();

            // Parse Markdown to HTML
            reportContentDiv.innerHTML = marked.parse(text);
            numerologyReportOutput.querySelector('.download-pdf-btn').classList.remove('hidden');

        } catch (error) {
            console.error('Error generating numerology report:', error);
            reportContentDiv.innerHTML = '<p class="error-message">Failed to generate report. Please try again. (Error: API communication issue)</p>';
            numerologyReportOutput.querySelector('.download-pdf-btn').classList.add('hidden');
        }
    });

    // --- AI Chat Assistant ---
    chatForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        const userMessage = chatInput.value.trim();
        if (!userMessage) return;

        // Display user message
        const userMsgDiv = document.createElement('div');
        userMsgDiv.classList.add('message', 'user-message');
        userMsgDiv.textContent = userMessage; // User input is plain text
        chatMessages.appendChild(userMsgDiv);
        chatMessages.scrollTop = chatMessages.scrollHeight; // Scroll to bottom

        chatInput.value = ''; // Clear input

        // Display "typing" indicator
        const typingIndicator = document.createElement('div');
        typingIndicator.classList.add('message', 'bot-message');
        typingIndicator.innerHTML = '<em>AstroMaestro AI is thinking...</em>';
        chatMessages.appendChild(typingIndicator);
        chatMessages.scrollTop = chatMessages.scrollHeight;

        try {
            const prompt = `You are AstroMaestro AI, an expert and mystical guide in astrology and numerology. Provide concise, helpful, and insightful answers. If the question is about a personal report, assume they are asking about a report they just generated (though you don't have direct memory of it, phrase it generally). Format your response using **Markdown** (e.g., bold for keywords, bullet points for lists if applicable).
            User's question: "${userMessage}"`;
            // ^ IMPORTANT: Updated prompt to ask for Markdown

            const result = await window.model.generateContent(prompt);
            const response = await result.response;
            const botReply = response.text();

            chatMessages.removeChild(typingIndicator); // Remove typing indicator

            const botMsgDiv = document.createElement('div');
            botMsgDiv.classList.add('message', 'bot-message');
            // Parse Markdown to HTML for bot replies
            botMsgDiv.innerHTML = marked.parse(botReply);
            chatMessages.appendChild(botMsgDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight; // Scroll to bottom

        } catch (error) {
            console.error('Error in chat assistant:', error);
            chatMessages.removeChild(typingIndicator); // Remove typing indicator
            const errorMsgDiv = document.createElement('div');
            errorMsgDiv.classList.add('message', 'bot-message');
            errorMsgDiv.innerHTML = '<em>Apologies, I encountered a cosmic disturbance. Please try again.</em>';
            chatMessages.appendChild(errorMsgDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
    });

    // --- PDF Download Functionality ---
    window.downloadPdf = async (reportType) => {
        let contentDivId, templateDivId, filename;
        if (reportType === 'astrology') {
            contentDivId = 'astrology-report-output';
            templateDivId = 'astrology-pdf-template';
            filename = 'AstroMaestro_Astrology_Report.pdf';
        } else if (reportType === 'numerology') {
            contentDivId = 'numerology-report-output';
            templateDivId = 'numerology-pdf-template';
            filename = 'AstroMaestro_Numerology_Report.pdf';
        } else {
            return;
        }

        const reportOutputHTML = document.getElementById(contentDivId).querySelector('.report-content').innerHTML;
        const pdfTemplate = document.getElementById(templateDivId);
        pdfTemplate.querySelector('.pdf-content').innerHTML = reportOutputHTML; // Populate the hidden PDF template with the HTML (already parsed markdown)

        // Temporarily make the template visible for html2canvas to render
        pdfTemplate.style.display = 'block';
        pdfTemplate.style.position = 'absolute';
        pdfTemplate.style.left = '-9999px'; // Move off-screen

        try {
            const canvas = await html2canvas(pdfTemplate, {
                scale: 2, // Higher scale for better quality
                useCORS: true, // Needed if you use images from different origins (like Imgur logo)
            });

            // Re-hide the template
            pdfTemplate.style.display = 'none';
            pdfTemplate.style.position = 'static'; // Reset position

            const imgData = canvas.toDataURL('image/png');
            const { jsPDF } = window.jspdf;
            const pdf = new jsPDF('p', 'mm', 'a4'); // Portrait, millimeters, A4 size

            const imgWidth = 210; // A4 width in mm
            const pageHeight = 297; // A4 height in mm
            const imgHeight = (canvas.height * imgWidth) / canvas.width;
            let heightLeft = imgHeight;
            let position = 0;

            pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
            heightLeft -= pageHeight;

            while (heightLeft >= 0) {
                position = heightLeft - imgHeight;
                pdf.addPage();
                pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
                heightLeft -= pageHeight;
            }

            pdf.save(filename);

        } catch (error) {
            console.error('Error generating PDF:', error);
            alert('Failed to generate PDF. Please try again or check console for details.');
        } finally {
             // Ensure template is hidden even on error
            pdfTemplate.style.display = 'none';
            pdfTemplate.style.position = 'static';
        }
    };
});

-----------------------------------------------------------------------------

/* Basic Reset & Body Styling */
body {
    font-family: 'Playfair Display', serif;
    margin: 0;
    padding: 0;
    background: linear-gradient(to bottom right, #0a0e1c, #1a0f2e, #2c1240); /* Deep cosmic gradient */
    color: #f0e6da; /* Off-white for readability */
    line-height: 1.6;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}

.container {
    max-width: 1000px;
    margin: 0 auto;
    padding: 20px;
}

/* Header */
header {
    background: rgba(0, 0, 0, 0.4);
    padding: 30px 0;
    text-align: center;
    border-bottom: 1px solid rgba(138, 43, 226, 0.3); /* Amethyst line */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}

header h1 {
    font-family: 'Cinzel', serif;
    font-size: 3.5em;
    color: #e6c78e; /* Gold */
    text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.7);
    margin-bottom: 5px;
}

header p {
    font-size: 1.2em;
    font-style: italic;
    color: #d1b19a;
}

/* Navigation */
nav {
    background: rgba(0, 0, 0, 0.5);
    padding: 15px 0;
    text-align: center;
    border-bottom: 1px solid rgba(138, 43, 226, 0.3);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

nav button {
    background: #8a2be2; /* Amethyst */
    color: #f0e6da;
    border: none;
    padding: 12px 25px;
    margin: 0 10px;
    border-radius: 30px;
    cursor: pointer;
    font-family: 'Cinzel', serif;
    font-size: 1.1em;
    transition: background 0.3s ease, transform 0.2s ease;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
}

nav button:hover {
    background: #9932cc; /* Darker amethyst */
    transform: translateY(-2px);
}

nav button:active {
    transform: translateY(0);
}

/* Main Content Sections */
main {
    flex-grow: 1; /* Allows main content to expand */
    padding-top: 30px;
    padding-bottom: 50px;
}

section {
    background: rgba(10, 10, 20, 0.7); /* Slightly transparent dark background */
    border-radius: 15px;
    padding: 40px;
    margin-bottom: 30px;
    border: 1px solid rgba(138, 43, 226, 0.4);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.4);
    display: none; /* Hidden by default */
}

section.active {
    display: block; /* Show active section */
}

section h2 {
    font-family: 'Cinzel', serif;
    font-size: 2.5em;
    color: #e6c78e;
    text-align: center;
    margin-bottom: 20px;
    text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
}

section p {
    text-align: center;
    margin-bottom: 30px;
    font-size: 1.1em;
    color: #ccc;
}

/* Forms */
form {
    display: flex;
    flex-direction: column;
    gap: 15px;
    max-width: 600px;
    margin: 0 auto;
}

form label {
    font-family: 'Cinzel', serif;
    font-size: 1.1em;
    color: #d1b19a;
    margin-bottom: 5px;
}

form input[type="text"],
form input[type="date"],
form input[type="time"],
form select {
    padding: 12px 15px;
    border: 1px solid #8a2be2;
    border-radius: 8px;
    background: rgba(255, 255, 255, 0.1);
    color: #f0e6da;
    font-size: 1em;
    outline: none;
    transition: border-color 0.3s ease;
}

form input[type="text"]:focus,
form input[type="date"]:focus,
form input[type="time"]:focus,
form select:focus {
    border-color: #e6c78e;
    box-shadow: 0 0 8px rgba(230, 199, 142, 0.5);
}

/* Placeholder color for inputs */
form input::placeholder {
    color: #a090a0;
}

/* For date and time inputs in some browsers, colors might need specific overrides */
input[type="date"]::-webkit-calendar-picker-indicator,
input[type="time"]::-webkit-calendar-picker-indicator {
    filter: invert(1); /* Makes the icon white */
}


form button[type="submit"] {
    background: #e6c78e; /* Gold */
    color: #1a0f2e; /* Deep purple */
    border: none;
    padding: 15px 30px;
    border-radius: 30px;
    cursor: pointer;
    font-family: 'Cinzel', serif;
    font-size: 1.2em;
    margin-top: 20px;
    transition: background 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}

form button[type="submit"]:hover {
    background: #f0d4a7; /* Lighter gold */
    transform: translateY(-3px);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
}

/* Report Output */
.report-output {
    background: rgba(0, 0, 0, 0.4);
    border: 1px solid rgba(230, 199, 142, 0.5); /* Gold border */
    border-radius: 10px;
    margin-top: 40px;
    padding: 30px;
    box-shadow: inset 0 0 15px rgba(230, 199, 142, 0.2);
    min-height: 200px;
    display: none; /* Hidden by default */
    position: relative;
}

.report-output.active {
    display: block;
}

.report-output h3 {
    font-family: 'Cinzel', serif;
    color: #e6c78e;
    font-size: 2em;
    text-align: center;
    margin-bottom: 25px;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.6);
}

.report-content {
    font-size: 1.1em;
    color: #f0e6da;
    line-height: 1.8;
    white-space: pre-wrap; /* Preserves line breaks from AI output */
    overflow-y: auto;
    max-height: 400px; /* Limit height for long reports */
    padding-right: 15px; /* Space for scrollbar */
}

/* Scrollbar styling */
.report-content::-webkit-scrollbar {
    width: 8px;
}
.report-content::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 10px;
}
.report-content::-webkit-scrollbar-thumb {
    background: #8a2be2;
    border-radius: 10px;
}
.report-content::-webkit-scrollbar-thumb:hover {
    background: #9932cc;
}


.download-pdf-btn {
    background: #28a745; /* Green for download */
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 20px;
    cursor: pointer;
    font-family: 'Cinzel', serif;
    font-size: 1em;
    margin-top: 25px;
    display: block;
    margin-left: auto;
    margin-right: auto;
    transition: background 0.3s ease;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
}

.download-pdf-btn:hover {
    background: #218838;
}

.hidden {
    display: none !important;
}

/* Chat Assistant */
.chat-container {
    background: rgba(0, 0, 0, 0.4);
    border: 1px solid rgba(138, 43, 226, 0.5);
    border-radius: 10px;
    padding: 20px;
    max-width: 700px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    height: 500px; /* Fixed height for chat window */
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
}

.chat-messages {
    flex-grow: 1;
    overflow-y: auto;
    padding-right: 15px; /* Space for scrollbar */
    margin-bottom: 15px;
}

.chat-messages::-webkit-scrollbar {
    width: 8px;
}
.chat-messages::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 10px;
}
.chat-messages::-webkit-scrollbar-thumb {
    background: #8a2be2;
    border-radius: 10px;
}
.chat-messages::-webkit-scrollbar-thumb:hover {
    background: #9932cc;
}


.message {
    padding: 10px 15px;
    border-radius: 15px;
    margin-bottom: 10px;
    max-width: 80%;
    word-wrap: break-word;
}

.user-message {
    background: #8a2be2; /* Amethyst for user */
    align-self: flex-end;
    margin-left: auto;
    text-align: right;
}

.bot-message {
    background: #333; /* Darker grey for bot */
    align-self: flex-start;
    margin-right: auto;
    border: 1px solid #555;
}

#chat-form {
    display: flex;
    gap: 10px;
}

#chat-input {
    flex-grow: 1;
    padding: 12px 15px;
    border: 1px solid #8a2be2;
    border-radius: 25px;
    background: rgba(255, 255, 255, 0.1);
    color: #f0e6da;
    font-size: 1em;
    outline: none;
}

#chat-form button {
    background: #e6c78e;
    color: #1a0f2e;
    border: none;
    padding: 12px 25px;
    border-radius: 25px;
    cursor: pointer;
    font-family: 'Cinzel', serif;
    font-size: 1em;
    transition: background 0.3s ease;
}

#chat-form button:hover {
    background: #f0d4a7;
}

/* Footer */
footer {
    background: rgba(0, 0, 0, 0.4);
    padding: 20px 0;
    text-align: center;
    border-top: 1px solid rgba(138, 43, 226, 0.3);
    color: #ccc;
    font-size: 0.9em;
    margin-top: auto; /* Pushes footer to the bottom */
}

footer p {
    margin: 5px 0;
}

/* PDF Template Styling (Hidden on regular page) */
.pdf-template {
    background: #f0e6da; /* Light background for PDF */
    color: #1a0f2e; /* Dark text for PDF */
    font-family: 'Playfair Display', serif;
    padding: 40px;
    box-sizing: border-box; /* Include padding in element's total width and height */
    width: 210mm; /* A4 width */
    min-height: 297mm; /* A4 height */
}

.pdf-header {
    text-align: center;
    margin-bottom: 30px;
    border-bottom: 2px solid #8a2be2;
    padding-bottom: 20px;
}

.pdf-logo {
    width: 80px;
    height: 80px;
    display: block;
    margin: 0 auto 10px;
}

.pdf-header h2 {
    font-family: 'Cinzel', serif;
    color: #8a2be2;
    font-size: 2.8em;
    margin: 0;
}

.pdf-header h3 {
    font-family: 'Playfair Display', serif;
    color: #e6c78e;
    font-size: 1.5em;
    margin: 5px 0 0;
    font-style: italic;
}

.pdf-content {
    font-size: 1.1em;
    line-height: 1.7;
    text-align: justify;
    padding: 0 20px;
}

.pdf-content p {
    margin-bottom: 1em;
}

.pdf-footer {
    text-align: center;
    margin-top: 40px;
    padding-top: 20px;
    border-top: 1px solid #ccc;
    font-size: 0.9em;
    color: #555;
}

/* ... (existing CSS) ... */

/* Report Content & Chat Message General Text Styling */
.report-content,
.chat-messages .message {
    font-size: 1.1em;
    color: #f0e6da;
    line-height: 1.8;
}

/* Markdown Headings in Reports and Chat */
.report-content h1,
.report-content h2,
.report-content h3,
.chat-messages .message h1,
.chat-messages .message h2,
.chat-messages .message h3 {
    font-family: 'Cinzel', serif;
    color: #e6c78e; /* Gold */
    margin-top: 1.5em;
    margin-bottom: 0.8em;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
    line-height: 1.3;
}

.report-content h1,
.chat-messages .message h1 { font-size: 2em; text-align: center; } /* Main report titles within content */
.report-content h2,
.chat-messages .message h2 { font-size: 1.8em; }
.report-content h3,
.chat-messages .message h3 { font-size: 1.5em; }

/* Paragraphs */
.report-content p,
.chat-messages .message p {
    margin-bottom: 1em;
}

/* Lists */
.report-content ul,
.report-content ol,
.chat-messages .message ul,
.chat-messages .message ol {
    margin-left: 20px;
    margin-bottom: 1em;
    padding-left: 10px;
}

.report-content li,
.chat-messages .message li {
    margin-bottom: 0.5em;
}

/* Strong/Bold text */
.report-content strong,
.chat-messages .message strong {
    color: #e6c78e; /* Make bold text gold for emphasis */
    font-weight: 700; /* Ensure it's truly bold */
}

/* Emphasis/Italic text */
.report-content em,
.chat-messages .message em {
    color: #d1b19a; /* A slightly softer gold/bronze for italics */
    font-style: italic;
}

/* Blockquotes */
.report-content blockquote,
.chat-messages .message blockquote {
    border-left: 4px solid #8a2be2; /* Amethyst border */
    padding-left: 15px;
    margin: 1em 0;
    font-style: italic;
    color: #bbb;
}

/* Code blocks (if used by AI) */
.report-content pre,
.chat-messages .message pre {
    background: rgba(0, 0, 0, 0.6);
    padding: 10px;
    border-radius: 5px;
    overflow-x: auto;
    font-family: monospace;
    font-size: 0.9em;
    border: 1px solid rgba(138, 43, 226, 0.3);
}

.report-content code,
.chat-messages .message code {
    background: rgba(138, 43, 226, 0.2);
    padding: 2px 4px;
    border-radius: 3px;
    font-family: monospace;
    color: #f0e6da;
}

/* Adjustments for PDF template to ensure markdown also looks good */
.pdf-content h1,
.pdf-content h2,
.pdf-content h3 {
    font-family: 'Cinzel', serif;
    color: #8a2be2; /* Amethyst for headings in PDF */
    margin-top: 1.2em;
    margin-bottom: 0.6em;
}
.pdf-content h1 { font-size: 2.2em; text-align: center; }
.pdf-content h2 { font-size: 1.8em; }
.pdf-content h3 { font-size: 1.5em; }

.pdf-content p {
    margin-bottom: 0.8em;
    color: #333; /* Darker text for readability in PDF */
}

.pdf-content ul,
.pdf-content ol {
    margin-left: 25px;
    margin-bottom: 0.8em;
    color: #333;
}

.pdf-content li {
    margin-bottom: 0.4em;
}

.pdf-content strong {
    font-weight: bold;
    color: #8a2be2; /* Amethyst for bold in PDF */
}

.pdf-content em {
    font-style: italic;
    color: #555;
}

.pdf-content blockquote {
    border-left: 4px solid #8a2be2;
    padding-left: 15px;
    margin: 1em 0;
    font-style: italic;
    color: #666;
}
.pdf-content pre {
    background: #eee;
    padding: 10px;
    border-radius: 5px;
    overflow-x: auto;
    font-family: monospace;
    font-size: 0.9em;
    border: 1px solid #ccc;
    color: #333;
}
.pdf-content code {
    background: #e0e0e0;
    padding: 2px 4px;
    border-radius: 3px;
    font-family: monospace;
    color: #333;
}

----------------------------------------------------------------------------

please check here why the pdf generation is not hapenning properly. the website is not mobile responsive. the website does not have much features, i want more features. within the astrological reports the user should be shown their indian astrological chart/map with 12 houses and everything just as it should be and it should generate the full-complete astrological report which will comprise of everything literally everyhting and for further QnA about the report there's ai chat.